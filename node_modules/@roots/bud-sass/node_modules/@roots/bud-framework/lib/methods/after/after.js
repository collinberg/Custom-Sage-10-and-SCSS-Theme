import { Bud } from '../../bud.js';
/**
 * Execute a function after compiler has finished
 */
export const after = function (action, errorHandler) {
    const bud = this;
    bud.hooks.action(`compiler.close`, async (bud) => {
        if (!(bud instanceof Bud))
            return;
        try {
            await action(bud);
        }
        catch (error) {
            if (!errorHandler)
                throw error;
            errorHandler(error);
        }
        bud.success(`bud.after action executed`);
    });
    bud.success(`bud.after: registered action`);
    return bud;
};
//# sourceMappingURL=after.js.map