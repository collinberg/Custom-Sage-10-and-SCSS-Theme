import type { Items, Loaders, Rules } from '@roots/bud-framework';
import { Service } from '@roots/bud-framework/service';
import type * as Base from '@roots/bud-framework/services/build';
import type { Configuration } from '@roots/bud-support/webpack';
import { register } from './handlers/register.js';
import { Item } from './item/index.js';
import { Loader } from './loader/index.js';
import { Options as RuleOptions, Rule } from './rule/index.js';
/**
 * Webpack configuration builder class
 */
export declare class Build extends Service implements Base.Service {
    /**
     * @public
     */
    config: Partial<Configuration>;
    /**
     * Registered loaders
     *
     * @public
     */
    loaders: Loaders;
    /**
     * Registered rules
     *
     * @public
     */
    rules: Rules;
    /**
     * Registered items
     *
     * @public
     */
    items: Items;
    /**
     * Service register event
     *
     * @remarks
     * `loaders`, `items`, and `rules` are instantiated dumbly
     * because it is painful to think about how to map the typings..
     *
     * @public
     * @decorator `@bind`
     */
    register?: typeof register;
    /**
     * Make webpack configuration
     *
     * @public
     * @decorator `@bind`
     */
    make(): Promise<Configuration>;
    /**
     * Set Rule
     *
     * @param name - Rule key
     * @param options - Rule constructor properties
     * @returns the Rule
     *
     * @public
     * @decorator `@bind`
     */
    setRule<K extends `${keyof Rules & string}`>(name: K, input?: RuleOptions | Rule): this;
    /**
     * Make Rule
     *
     * @param options - rule constructor properties
     * @returns the rule
     *
     * @public
     * @decorator `@bind`
     */
    makeRule(options?: RuleOptions): Rule;
    getLoader(name: string): Loader;
    /**
     * Set Loader
     *
     * @param name - Loader key
     * @param definition - Loader constructor properties
     * @returns the Loader
     *
     * @public
     * @decorator `@bind`
     */
    setLoader<K extends `${keyof Loaders & string}`>(name: K, definition?: any): this;
    /**
     * Make Loader
     *
     * @param options - rule constructor properties
     * @returns the rule
     *
     * @public
     * @decorator `@bind`
     */
    makeLoader(src?: string): Loader;
    getItem(name: `${keyof Items & string}`): Item;
    /**
     * Set Item
     *
     * @param name - Item key
     * @param options - Item constructor properties
     * @returns the Item
     *
     * @public
     * @decorator `@bind`
     */
    setItem<K extends `${keyof Items & string}`>(name: K, options?: Items[K]['options'] | ((item: Items[K]) => Items[K])): this;
    /**
     * Make Item
     *
     * @param options - rule constructor properties
     * @returns the rule
     *
     * @public
     * @decorator `@bind`
     */
    makeItem(options?: Partial<Item['options']>): Item;
}
//# sourceMappingURL=service.d.ts.map